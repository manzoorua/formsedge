import{r as e,s,h as a,j as l,g as i,B as r,C as n}from"./main-BQOa5mM0.js";import{I as t}from"./input-COMLYb-C.js";import{L as c}from"./label-B7su6Jaa.js";import{S as d}from"./save-BPJYkrST.js";import{M as o}from"./map-pin-CJU3Z9Rz.js";import{P as m}from"./phone-DTqSRSbI.js";import{M as h}from"./mail-BKZIg2ud.js";import{C as p}from"./clock-BGkZXTj0.js";const x={address_line1:"",address_line2:"",city_state_zip:"",country:"",sales_phone:"",support_phone:"",emergency_phone:"",general_email:"",sales_email:"",support_email:"",business_hours:""},j=()=>{const[j,u]=e.useState(x),[g,v]=e.useState(!0),[y,_]=e.useState(!1);e.useEffect(()=>{f()},[]);const f=async()=>{v(!0);try{const{data:e,error:a}=await s.from("company_settings").select("*").limit(1).single();if(a)throw a;e&&u(e)}catch(e){a.error("Failed to load company settings")}finally{v(!1)}},N=(e,s)=>{u({...j,[e]:s})};return g?l.jsx("div",{className:"flex items-center justify-center py-12",children:l.jsx(i,{className:"h-8 w-8 animate-spin"})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Company Settings"}),l.jsx("p",{className:"text-muted-foreground",children:"Manage contact information displayed on the Contact page"})]}),l.jsxs(r,{onClick:async()=>{_(!0);try{const{data:e}=await s.auth.getSession(),l=e.session?.access_token,{id:i,...r}=j,n=await s.functions.invoke("manage-company-settings",{body:{action:"update",settings:r},headers:l?{Authorization:`Bearer ${l}`}:{}});if(n.error)throw n.error;a.success("Company settings saved")}catch(e){a.error("Failed to save settings")}finally{_(!1)}},disabled:y,children:[y?l.jsx(i,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(d,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs(n,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(o,{className:"h-5 w-5 text-primary"}),l.jsx("h2",{className:"text-lg font-semibold",children:"Address"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(c,{children:"Address Line 1"}),l.jsx(t,{value:j.address_line1,onChange:e=>N("address_line1",e.target.value),placeholder:"Building/Suite"})]}),l.jsxs("div",{children:[l.jsx(c,{children:"Address Line 2"}),l.jsx(t,{value:j.address_line2,onChange:e=>N("address_line2",e.target.value),placeholder:"Street address"})]}),l.jsxs("div",{children:[l.jsx(c,{children:"City, State, ZIP"}),l.jsx(t,{value:j.city_state_zip,onChange:e=>N("city_state_zip",e.target.value),placeholder:"City, ST 12345"})]}),l.jsxs("div",{children:[l.jsx(c,{children:"Country"}),l.jsx(t,{value:j.country,onChange:e=>N("country",e.target.value),placeholder:"US"})]})]})]}),l.jsxs(n,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(m,{className:"h-5 w-5 text-primary"}),l.jsx("h2",{className:"text-lg font-semibold",children:"Phone Numbers"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(c,{children:"Sales Phone"}),l.jsx(t,{value:j.sales_phone,onChange:e=>N("sales_phone",e.target.value),placeholder:"+1 (555) 123-4567"})]}),l.jsxs("div",{children:[l.jsx(c,{children:"Support Phone"}),l.jsx(t,{value:j.support_phone,onChange:e=>N("support_phone",e.target.value),placeholder:"+1 (555) 123-4567"})]}),l.jsxs("div",{children:[l.jsx(c,{children:"Emergency Phone (24/7)"}),l.jsx(t,{value:j.emergency_phone,onChange:e=>N("emergency_phone",e.target.value),placeholder:"+1 (555) 123-4567"})]})]})]}),l.jsxs(n,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(h,{className:"h-5 w-5 text-primary"}),l.jsx("h2",{className:"text-lg font-semibold",children:"Email Addresses"})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(c,{children:"General Email"}),l.jsx(t,{type:"email",value:j.general_email,onChange:e=>N("general_email",e.target.value),placeholder:"info@company.com"})]}),l.jsxs("div",{children:[l.jsx(c,{children:"Sales Email"}),l.jsx(t,{type:"email",value:j.sales_email,onChange:e=>N("sales_email",e.target.value),placeholder:"sales@company.com"})]}),l.jsxs("div",{children:[l.jsx(c,{children:"Support Email"}),l.jsx(t,{type:"email",value:j.support_email,onChange:e=>N("support_email",e.target.value),placeholder:"support@company.com"})]})]})]}),l.jsxs(n,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(p,{className:"h-5 w-5 text-primary"}),l.jsx("h2",{className:"text-lg font-semibold",children:"Business Hours"})]}),l.jsx("div",{className:"space-y-4",children:l.jsxs("div",{children:[l.jsx(c,{children:"Hours Description"}),l.jsx(t,{value:j.business_hours,onChange:e=>N("business_hours",e.target.value),placeholder:"Monday - Friday: 9:00 AM - 6:00 PM CST"})]})})]})]})]})};export{j as default};
