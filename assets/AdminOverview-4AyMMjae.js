import{r as e,j as s,C as t,b as a,d as r,f as l,s as d}from"./main-BQOa5mM0.js";import{U as o}from"./users-DfZDw2qr.js";import{F as c}from"./file-text-WxvKYvjS.js";import{D as n,T as i}from"./target-Bxu-UnsR.js";import{U as m}from"./user-plus-GQG3TCfy.js";import{G as x}from"./gift-mKnn5hCx.js";import{D as f}from"./dollar-sign-CFY7m5M8.js";import{A as j}from"./activity-bwg40EGM.js";function h(){const[h,u]=e.useState({totalUsers:0,totalForms:0,totalResponses:0,totalAdmins:0,totalReferralCodes:0,totalReferrals:0,totalRewardsPending:0,totalRewardsPaid:0}),[p,N]=e.useState(!0);return e.useEffect(()=>{(async()=>{try{const[e,s,t,a,r,l,o,c]=await Promise.all([d.from("profiles").select("id",{count:"exact",head:!0}),d.from("forms").select("id",{count:"exact",head:!0}),d.from("form_responses").select("id",{count:"exact",head:!0}),d.from("admin_users").select("id",{count:"exact",head:!0}),d.from("referral_codes").select("id",{count:"exact",head:!0}),d.from("referrals").select("id",{count:"exact",head:!0}),d.from("referral_rewards").select("id",{count:"exact",head:!0}).eq("status","pending"),d.from("referral_rewards").select("id",{count:"exact",head:!0}).eq("status","paid")]);u({totalUsers:e.count||0,totalForms:s.count||0,totalResponses:t.count||0,totalAdmins:a.count||0,totalReferralCodes:r.count||0,totalReferrals:l.count||0,totalRewardsPending:o.count||0,totalRewardsPaid:c.count||0})}catch(e){}finally{N(!1)}})()},[]),p?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"System overview and statistics"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(t,{children:[s.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(r,{className:"text-sm font-medium",children:"Total Users"}),s.jsx(o,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(l,{children:s.jsx("div",{className:"text-2xl font-bold",children:h.totalUsers})})]}),s.jsxs(t,{children:[s.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(r,{className:"text-sm font-medium",children:"Total Forms"}),s.jsx(c,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(l,{children:s.jsx("div",{className:"text-2xl font-bold",children:h.totalForms})})]}),s.jsxs(t,{children:[s.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(r,{className:"text-sm font-medium",children:"Total Responses"}),s.jsx(n,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(l,{children:s.jsx("div",{className:"text-2xl font-bold",children:h.totalResponses})})]}),s.jsxs(t,{children:[s.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(r,{className:"text-sm font-medium",children:"Admin Users"}),s.jsx(m,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(l,{children:s.jsx("div",{className:"text-2xl font-bold",children:h.totalAdmins})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs(t,{children:[s.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(r,{className:"text-sm font-medium",children:"Referral Codes"}),s.jsx(x,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(l,{children:s.jsx("div",{className:"text-2xl font-bold",children:h.totalReferralCodes})})]}),s.jsxs(t,{children:[s.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(r,{className:"text-sm font-medium",children:"Total Referrals"}),s.jsx(i,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(l,{children:s.jsx("div",{className:"text-2xl font-bold",children:h.totalReferrals})})]}),s.jsxs(t,{children:[s.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(r,{className:"text-sm font-medium",children:"Pending Rewards"}),s.jsx(f,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(l,{children:s.jsx("div",{className:"text-2xl font-bold",children:h.totalRewardsPending})})]}),s.jsxs(t,{children:[s.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(r,{className:"text-sm font-medium",children:"Paid Rewards"}),s.jsx(j,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(l,{children:s.jsx("div",{className:"text-2xl font-bold",children:h.totalRewardsPaid})})]})]})]})}export{h as default};
