import{r,s as t}from"./main-BQOa5mM0.js";function e(){const[e,n]=r.useState([]),[a,o]=r.useState(!0),[s,i]=r.useState(null),l=async()=>{try{o(!0),i(null);const{data:r,error:e}=await t.from("public_subscription_tiers").select("*").order("sort_order",{ascending:!0});if(e)throw e;n(r||[])}catch(r){i("Failed to load pricing data")}finally{o(!1)}};r.useEffect(()=>{l()},[]);const y=r=>{const t=e.find(t=>t.name===r);if(!t){const t={free:{monthly:0,yearly:0,yearlyTotal:0,savingsPercent:0,savingsAmount:0},pro:{monthly:29,yearly:20,yearlyTotal:240,savingsPercent:31,savingsAmount:108},enterprise:{monthly:49.99,yearly:41.66,yearlyTotal:499.92,savingsPercent:17,savingsAmount:100}};return t[r]||t.pro}const n=t.price_monthly/100;let a,o;t.price_yearly&&t.price_yearly>0?(o=t.price_yearly/100,a=o/12):(a=Math.round(.69*n*100)/100,o=12*a);const s=12*n,i=Math.round(100*(s-o))/100,l=n>0?Math.round(i/s*100):0;return{monthly:n,yearly:Math.round(100*a)/100,yearlyTotal:Math.round(100*o)/100,savingsPercent:l,savingsAmount:i}};return{tiers:e,loading:a,error:s,getPricing:y,getProPricing:()=>y("pro"),refetch:l}}export{e as u};
